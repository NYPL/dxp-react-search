#! /bin/bash

# Set production values
NEXT_PUBLIC_NYPL_DOMAIN=https://www.nypl.org
REFINERY_API=https://refinery.nypl.org/api/nypl
DRUPAL_API=https://d8.nypl.org
GRAPHQL_API_URL=https://scout.nypl.org/api/graphql
GA_TRACKING_ID=UA-1420324-3
GTM_TRACKING_ID=GTM-537Q6Q4
ALLOWED_ORIGIN=https://www.nypl.org
ASSET_PREFIX=/scout
SENDGRID_EMAIL_ENABLE=true

if [ "$TRAVIS_BRANCH" == "qa" ]; then
  NEXT_PUBLIC_NYPL_DOMAIN=https://qa-www.nypl.org
  REFINERY_API=https://qa-refinery.nypl.org/api/nypl
  DRUPAL_API=https://qa-d8.nypl.org
  GRAPHQL_API_URL=https://qa-scout.nypl.org/api/graphql
  GA_TRACKING_ID=UA-1420324-122
  ALLOWED_ORIGIN=https://qa-www.nypl.org
  SENDGRID_EMAIL_ENABLE=true
  NEXT_PUBLIC_DRUPAL_PREVIEW_SECRET=o934Ysf3Hpu3irVXFBYvGCAyHjU3F
  DRUPAL_CONSUMER_UUID=a36ecfe6-7a6c-4b70-8490-4b71fab2aead
  DRUPAL_CONSUMER_SECRET=test1234
fi

echo -e "\nNEXT_PUBLIC_NYPL_DOMAIN=$NEXT_PUBLIC_NYPL_DOMAIN" >> .env
echo -e "\nREFINERY_API=$REFINERY_API" >> .env
echo -e "\nDRUPAL_API=$DRUPAL_API" >> .env
echo -e "\nNEXT_PUBLIC_GRAPHQL_API=$GRAPHQL_API_URL" >> .env
echo -e "\nNEXT_PUBLIC_GOOGLE_MAPS_API=$NEXT_PUBLIC_GOOGLE_MAPS_API" >> .env
echo -e "\nNEXT_PUBLIC_GA_TRACKING_ID=$GA_TRACKING_ID" >> .env
echo -e "\nNEXT_PUBLIC_GTM_TRACKING_ID=$GTM_TRACKING_ID" >> .env
echo -e "\nNEXT_PUBLIC_ALLOWED_ORIGIN=$ALLOWED_ORIGIN" >> .env
echo -e "\nASSET_PREFIX=$ASSET_PREFIX" >> .env
echo -e "\nSENDGRID_API_KEY=$SENDGRID_API_KEY" >> .env
echo -e "\nSENDGRID_EMAIL_ENABLE=$SENDGRID_EMAIL_ENABLE" >> .env
# Preview mode
echo -e "\nNEXT_PUBLIC_DRUPAL_PREVIEW_SECRET=$NEXT_PUBLIC_DRUPAL_PREVIEW_SECRET" >> .env
echo -e "\nDRUPAL_CONSUMER_UUID=$DRUPAL_CONSUMER_UUID" >> .env
echo -e "\nDRUPAL_CONSUMER_SECRET=$DRUPAL_CONSUMER_SECRET" >> .env
